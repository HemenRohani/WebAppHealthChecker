@using WebAppHealthChecker.Application.Authentication.Queries.Login;
@model LoginQuery

<div class="login-box">
    <div class="login-box-body">
        @using (Html.BeginForm())
        {
            <div class="form-group">
                @Html.LabelFor(x => x.Email)
                @Html.TextBoxFor(x => x.Email, htmlAttributes: new { type = "email",  @class = "form-control", placeholder = "Enter Email" })
            </div>
            <div class="form-group">
                @Html.LabelFor(x => x.Password)
                @Html.PasswordFor(x => x.Password, htmlAttributes: new {  @class = "form-control", placeholder = "Enter Password" })
            </div>
            <br />
            <button type="button" data-submit="ajax" data-callback="loginCallback" class="btn btn-primary w-100">Login</button>
            <p class="message">Not registered? <a href="#" data-modal-url="@Url.Action("Register")" data-modal-title="Register User">Create an account</a></p>
        }
    </div>
</div>

@section Scripts
{
    <script>
        function loginCallback(res) {
            if (res == 'Ok')
            window.location.href = "/";
        }
    </script>
}
